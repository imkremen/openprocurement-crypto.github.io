<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Using digital signature</title>
    <script src="public/js/lib/jquery.min.js"></script>
    <!--<script src="http://10.10.10.97:8083/js/index.js?v0.1"></script>-->
    <script src="https://cdn.rawgit.com/openprocurement-crypto/common/master/js/index.js?v0.2"></script>
    <script src="public/js/main.js"></script>
    <link rel="stylesheet" href="public/css/bootstrap.min.css">
    <link rel="stylesheet" href="public/css/jsondiffpatch_html.css">
</head>
<body>
<span class="badge pull-right">v 1.0.3</span>
<div class="text-center">
    <div class="btn-group">
        <button class="btn btn-info center-block" onclick="demo1()">demo1</button>
        <button class="btn btn-success center-block" onclick="demo2()">demo2</button>
        <button class="btn btn-warning center-block" onclick="demo3()">demo3</button>
        <button class="btn btn-warning center-block" onclick="demo4()">demo4</button>
    </div>
</div>
<div class="btn-group center-block" role="group" aria-label="...">

</div>
<!-- content before -->
<br/><br/>
<div id="signPlaceholder"></div>
<!-- content after -->

<script id="htmlTemplate" type="text/x-tmpl">
    <div class="container">
    <div class="panel panel-default">
        <div class="panel-heading">Робота з підписом<span id="status"></span></div>
        <div class="panel-body">
            <div id="signPanel" style="display: none" class="panel panel-default">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-sm-2">
                            <p>Оберіть ЦСК:</p>
                        </div>
                        <div class="col-sm-10">
                            <select id="CAsServersSelect"></select>
                        </div>
                    </div>
                    <div id="keyStatusPanel" class="panel panel-info">
                        <div class="panel-heading"><span id="PKStatusInfo"></span></div>
                        <div class="panel-body">
                            <div id="PKCertsSelectZone" hidden="" class="row">
                                <div class="col-sm-2">
                                    <p>Особисті сертифікати:</p>
                                </div>
                                <div class="col-sm-2"></div>
                                <div class="col-sm-1">
                                    <button id="ChoosePKCertsButton"
                                            onclick="euSignMgr.uiCertFileInput.click();"
                                            class="btn btn-default">Обрати
                                    </button>
                                    <input type="file" multiple="" id="ChoosePKCertsInput" style="visibility: hidden">
                                </div>
                                <div class="col-sm-7">
                                    <output id="SelectedPKCertsList"></output>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-2">
                                    <p>Особистий ключ:</p>
                                </div>
                                <div class="col-sm-2">
                                    <input readonly="readonly" id="PKeyFileName"
                                           onclick="euSignMgr.uiPkFileInput.click();"
                                           style="width: 180px;"
                                           class="form-control form-control-sm">
                                </div>
                                <div class="col-sm-8">
                                    <button id="PKeySelectFileButton"
                                            onclick="euSignMgr.uiPkFileInput.click();"
                                            class="btn btn-default">Обрати
                                    </button>
                                    <input type="file" id="PKeyFileInput" style="visibility: hidden">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-2">
                                    <p>Пароль захисту ключа:</p>
                                </div>
                                <div class="col-sm-2">
                                    <input type="password" id="PKeyPassword" style="width: 180px;"
                                           class="form-control form-control-sm" autocomplete="off">
                                </div>
                                <div class="col-sm-6">
                                    <button id="PKeyReadButton" onclick="euSignMgr.readPrivateKeyButtonClick()"
                                            class="btn btn-default" title="Зчитати">Зчитати
                                    </button>
                                </div>
                                <div class="col-sm-2">
                                    <button id="SignDataButton" onclick="euSignMgr.signData()" disabled=""
                                            class="btn btn-info pull-right">Підписати
                                    </button>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div id="checkPanel" style="display: none" class="panel panel-default">
                <div class="panel-heading">Перевірка підпису</div>
                <div class="panel-body">
                    <div class="alert alert-danger" style="display: none" id="verificationError">Підпис невірний,
                        модифіковані дані:
                        <div class="alert alert-warning" id="verificationErrorDiff"></div>
                    </div>
                    <div class="alert alert-success" id="verificationSuccess" style="display: none"></div>
                </div>
            </div>
        </div>
        <div class="panel-footer">
            <div id="certInfo" style="display: none" class="alert alert-info"></div>
        </div>
    </div>
</div>
</script>
</body>
</html>